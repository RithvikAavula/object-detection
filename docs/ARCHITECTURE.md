# ğŸ“ System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           BROWSER (localhost:3000)                          â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        React Application                              â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                       App.js (Main)                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Loading Animation (2s)                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Particle Background                                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Route to Dashboard                                           â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                       â”‚                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                   Dashboard.js                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ State Management (isDetecting, metrics, frames)              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ API Integration (Axios)                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Polling (metrics: 1s, frames: 5s)                            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚    â”‚              â”‚              â”‚              â”‚                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ LiveFeed   â”‚ â”‚ Controls   â”‚ â”‚ Metrics    â”‚ â”‚ SavedFrames    â”‚  â”‚ â”‚
â”‚  â”‚  â”‚            â”‚ â”‚            â”‚ â”‚            â”‚ â”‚                â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Video    â”‚ â”‚ â€¢ Start/   â”‚ â”‚ â€¢ 5 Cards  â”‚ â”‚ â€¢ Grid         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚   Stream   â”‚ â”‚   Stop     â”‚ â”‚ â€¢ FPS      â”‚ â”‚   Gallery      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Boxes    â”‚ â”‚ â€¢ Save     â”‚ â”‚   Chart    â”‚ â”‚ â€¢ Lightbox     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Labels   â”‚ â”‚ â€¢ Slider   â”‚ â”‚ â€¢ Objects  â”‚ â”‚ â€¢ Actions      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Status   â”‚ â”‚ â€¢ Buttons  â”‚ â”‚   List     â”‚ â”‚ â€¢ Download     â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          Particles.js                                 â”‚ â”‚
â”‚  â”‚  â€¢ Canvas Animation                                                   â”‚ â”‚
â”‚  â”‚  â€¢ Floating Particles                                                 â”‚ â”‚
â”‚  â”‚  â€¢ Connection Lines                                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ HTTP Requests (Axios)
                               â”‚ â€¢ GET /api/metrics (1s polling)
                               â”‚ â€¢ GET /api/saved-frames (5s polling)
                               â”‚ â€¢ POST /api/start
                               â”‚ â€¢ POST /api/stop
                               â”‚ â€¢ POST /api/save-frame
                               â”‚ â€¢ POST /api/confidence
                               â”‚ â€¢ DELETE /api/delete-frame/<name>
                               â”‚
                               â”‚ Video Stream
                               â”‚ â€¢ GET /api/video-feed (MJPEG)
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FLASK SERVER (localhost:5000)                        â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           app.py                                      â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                      API Endpoints                              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Detection Control:                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ POST /api/start      â†’ start_detection()                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ POST /api/stop       â†’ stop_detection()                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ GET  /api/status     â†’ get_status()                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Metrics & Data:                                                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ GET  /api/metrics    â†’ get_metrics()                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ POST /api/confidence â†’ set_confidence()                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ GET  /api/stats      â†’ get_stats()                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Frame Management:                                              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ POST /api/save-frame   â†’ save_frame()                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ GET  /api/saved-frames â†’ get_saved_frames()                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ DELETE /api/delete-frame/<name> â†’ delete_frame()             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Video Stream:                                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ GET /api/video-feed  â†’ video_feed()                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                   Global State                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  detection_active = False                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  camera = None                                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  model = YOLO('yolov8m.pt')                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  current_metrics = { fps, confidence, object_count, ... }       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  current_frame = None                                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  frame_lock = threading.Lock()                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  detection_thread = None                                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚              Detection Thread (Background)                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  detection_loop():                                              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    while detection_active:                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      1. Read frame from camera                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      2. Run YOLO detection                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      3. Draw bounding boxes & labels                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      4. Calculate FPS                                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      5. Update metrics                                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      6. Store frame (with lock)                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                       â”‚                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ Camera Access (OpenCV)
                           â”‚ â€¢ cv2.VideoCapture(0)
                           â”‚ â€¢ 640x480 resolution
                           â”‚ â€¢ Buffer size: 1
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           YOLO Detection Engine                             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     Ultralytics YOLOv8                                â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  model.predict():                                                     â”‚ â”‚
â”‚  â”‚    â€¢ Input: BGR frame (640x480)                                       â”‚ â”‚
â”‚  â”‚    â€¢ Confidence: 0.15 (adjustable)                                    â”‚ â”‚
â”‚  â”‚    â€¢ IoU: 0.40                                                        â”‚ â”‚
â”‚  â”‚    â€¢ Max Detections: 500                                              â”‚ â”‚
â”‚  â”‚    â€¢ Augmentation: OFF (speed)                                        â”‚ â”‚
â”‚  â”‚    â€¢ Classes: 80 COCO classes                                         â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  Output:                                                              â”‚ â”‚
â”‚  â”‚    â€¢ Bounding boxes [x1, y1, x2, y2]                                  â”‚ â”‚
â”‚  â”‚    â€¢ Class IDs [0-79]                                                 â”‚ â”‚
â”‚  â”‚    â€¢ Confidence scores [0.0-1.0]                                      â”‚ â”‚
â”‚  â”‚    â€¢ Class names ['person', 'bottle', ...]                            â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         Model Files                                   â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  â€¢ yolov8m.pt    - Primary model (25 MB)                              â”‚ â”‚
â”‚  â”‚  â€¢ yolov5su.pt   - Fallback model (20 MB)                             â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ Camera Feed
                           â”‚ â€¢ 30 FPS capture
                           â”‚ â€¢ BGR format
                           â”‚ â€¢ 640x480 pixels
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              WEBCAM                                         â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     Physical Camera Device                            â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  â€¢ USB Webcam or Built-in Camera                                      â”‚ â”‚
â”‚  â”‚  â€¢ Resolution: 640x480 recommended                                    â”‚ â”‚
â”‚  â”‚  â€¢ FPS: 30 recommended                                                â”‚ â”‚
â”‚  â”‚  â€¢ Auto-focus: Enabled                                                â”‚ â”‚
â”‚  â”‚  â€¢ Auto-exposure: Enabled                                             â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FILE SYSTEM                                       â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      saved_frames/                                    â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  detection_20251019_143052_frame123.jpg                               â”‚ â”‚
â”‚  â”‚  detection_20251019_143055_frame145.jpg                               â”‚ â”‚
â”‚  â”‚  detection_20251019_143058_frame167.jpg                               â”‚ â”‚
â”‚  â”‚  ...                                                                  â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  â€¢ Auto-created folder                                                â”‚ â”‚
â”‚  â”‚  â€¢ Timestamped filenames                                              â”‚ â”‚
â”‚  â”‚  â€¢ JPEG format                                                        â”‚ â”‚
â”‚  â”‚  â€¢ Quality: 95%                                                       â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                            DATA FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. USER ACTION (Browser)
   User clicks "Start Detection"
   â†“
2. FRONTEND (React)
   Dashboard.handleStart() â†’ axios.post('/api/start')
   â†“
3. BACKEND (Flask)
   POST /api/start â†’ start_detection()
   â†“
4. THREAD START
   detection_thread = Thread(target=detection_loop)
   detection_thread.start()
   â†“
5. CAMERA INIT
   camera = cv2.VideoCapture(0)
   camera.set(cv2.CAP_PROP_FRAME_WIDTH, 640)
   â†“
6. DETECTION LOOP (Background Thread)
   while detection_active:
     â€¢ Read frame from camera
     â€¢ Run YOLO detection
     â€¢ Draw boxes & labels
     â€¢ Calculate FPS
     â€¢ Update metrics
     â€¢ Store frame (thread-safe)
   â†“
7. VIDEO STREAMING
   GET /api/video-feed â†’ video_feed()
   â€¢ Read current_frame (with lock)
   â€¢ Encode to JPEG
   â€¢ Stream as multipart/x-mixed-replace
   â†“
8. FRONTEND DISPLAY
   <img src="/api/video-feed" />
   â€¢ Browser displays MJPEG stream
   â€¢ ~30 FPS
   â€¢ Auto-updates
   â†“
9. METRICS POLLING
   Every 1 second:
     â€¢ GET /api/metrics
     â€¢ Update dashboard state
     â€¢ Re-render components
     â€¢ Animate changes
   â†“
10. USER SAVES FRAME
    User clicks "Save Current Frame"
    â†“
11. SAVE REQUEST
    POST /api/save-frame
    â€¢ Copy current_frame
    â€¢ Generate filename with timestamp
    â€¢ Save to saved_frames/
    â€¢ Increment saved_count
    â†“
12. GALLERY UPDATE
    Every 5 seconds:
      â€¢ GET /api/saved-frames
      â€¢ Update gallery
      â€¢ Show new frames
   â†“
13. USER STOPS
    User clicks "Stop Detection"
    â†“
14. STOP REQUEST
    POST /api/stop
    â€¢ detection_active = False
    â€¢ Thread exits loop
    â€¢ camera.release()
    â€¢ Clean shutdown


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         COMMUNICATION PROTOCOLS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Frontend â†’ Backend:
  â€¢ Protocol: HTTP/1.1
  â€¢ Format: JSON (requests & responses)
  â€¢ CORS: Enabled (all origins in dev)
  â€¢ Polling: 1s (metrics), 5s (frames)
  â€¢ Streaming: MJPEG (video feed)

Backend â†’ YOLO:
  â€¢ Protocol: Python function calls
  â€¢ Format: NumPy arrays (BGR)
  â€¢ Output: Ultralytics Results objects

Backend â†’ Camera:
  â€¢ Protocol: OpenCV API
  â€¢ Format: BGR frames
  â€¢ Resolution: 640x480
  â€¢ FPS: 30

Backend â†’ Filesystem:
  â€¢ Protocol: File I/O
  â€¢ Format: JPEG images
  â€¢ Location: saved_frames/
  â€¢ Naming: timestamp-based


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         THREADING MODEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Main Thread (Flask):
  â€¢ Handle HTTP requests
  â€¢ Serve static files
  â€¢ Return JSON responses
  â€¢ Stream video frames

Detection Thread:
  â€¢ Capture camera frames
  â€¢ Run YOLO detection
  â€¢ Process results
  â€¢ Update metrics
  â€¢ Store current frame

Synchronization:
  â€¢ frame_lock (threading.Lock)
  â€¢ Protects current_frame
  â€¢ Used by detection thread (write)
  â€¢ Used by video stream (read)

Thread Safety:
  â€¢ Global variables protected
  â€¢ Atomic operations
  â€¢ No race conditions
  â€¢ Clean shutdown


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         PERFORMANCE CHARACTERISTICS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Latency:
  â€¢ Camera to Detection: ~10ms
  â€¢ Detection Processing: ~30ms
  â€¢ Frame to Browser: ~10ms
  â€¢ Total: ~50ms (20 FPS)

Throughput:
  â€¢ Video Stream: ~2 Mbps
  â€¢ API Requests: ~10 req/s
  â€¢ Metrics Updates: 1 Hz
  â€¢ Frame Saves: On-demand

Resource Usage:
  â€¢ CPU: 30-50% (single core)
  â€¢ RAM: ~500 MB
  â€¢ Disk: ~1 MB/frame saved
  â€¢ Network: ~2 Mbps (local)

Scalability:
  â€¢ Single camera per instance
  â€¢ Multiple browser clients OK
  â€¢ CPU-bound (detection)
  â€¢ Can run on modest hardware


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
